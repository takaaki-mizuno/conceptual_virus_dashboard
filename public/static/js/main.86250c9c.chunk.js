(this.webpackJsonpconceptual_virus_frontend=this.webpackJsonpconceptual_virus_frontend||[]).push([[0],{29:function(t,e,n){},30:function(t,e,n){},34:function(t,e,n){"use strict";n.r(e);var r=n(0),s=n.n(r),c=n(10),a=n.n(c),o=(n(29),n(24)),u=n(3),i=(n(30),n(13)),d=n(21),l=n.n(d),h=n(22);function b(){return j.apply(this,arguments)}function j(){return(j=Object(h.a)(l.a.mark((function t(){var e,n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("http://localhost/api/dashboard/creatures",{method:"GET"});case 3:if(e=t.sent,console.log(e),!e.ok){t.next=17;break}return t.next=8,e.json();case 8:if(n=t.sent,!(r=null===n||void 0===n?void 0:n.creatures)){t.next=14;break}return t.abrupt("return",r);case 14:case 17:return t.abrupt("return",[]);case 15:t.next=18;break;case 18:t.next=23;break;case 20:return t.prev=20,t.t0=t.catch(0),t.abrupt("return",Promise.reject(t.t0));case 23:case"end":return t.stop()}}),t,null,[[0,20]])})))).apply(this,arguments)}var p=n(23),f=n(5),x=function(t){var e={backgroundColor:[],data:[]},n={labels:[],datasets:[]};for(var r in t.trends){n.labels.push(r);var s=Number(r.charCodeAt(0)).toString(16)+Number(r.charCodeAt(1)).toString(16)+Number(r.charCodeAt(2)).toString(16);e.backgroundColor.push("#"+s),e.data.push(t.trends[r])}return n.datasets.push(e),console.log(n),Object(f.jsx)(p.a,{type:"doughnut",data:n})},v=n(15),g=function(t){return Object(f.jsxs)(v.a,{className:"mb-4",style:{padding:"20px"},children:[Object(f.jsx)(v.d,{style:{padding:"20px"},children:Object(f.jsx)("h3",{children:t.ipAddress})}),Object(f.jsx)(v.b,{style:{padding:"20px"},children:Object(f.jsx)(x,{total_count:t.viruses.total_count,trends:t.viruses.trends})}),Object(f.jsx)(v.c,{style:{padding:"20px"},children:Object(f.jsxs)("p",{children:[" Total Variants: ",t.viruses.total_count]})})]})},O=function(){var t=r.useState(),e=Object(i.a)(t,2),n=e[0],s=e[1];r.useEffect((function(){b().then((function(t){t&&s(t)}));var t=setInterval((function(){b().then((function(t){t&&s(t)})).catch((function(t){console.log(t)}))}),6e4);return function(){clearInterval(t)}}),[]);var c=[];if(n)for(var a=0;a<n.length;a++){var o=n[a];c.push(Object(f.jsx)(g,{ipAddress:o.ip_address,idString:o.id,viruses:o.viruses},o.id))}return Object(f.jsxs)(v.f,{children:[Object(f.jsx)("h1",{className:"title",children:"Dashboard"}),Object(f.jsx)(v.g,{children:Object(f.jsx)(v.e,{sm:"auto",children:c})})]})};var m=function(){return Object(f.jsx)(o.a,{children:Object(f.jsx)(u.c,{children:Object(f.jsx)(u.a,{path:"/",element:Object(f.jsx)(O,{})})})})},k=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,35)).then((function(e){var n=e.getCLS,r=e.getFID,s=e.getFCP,c=e.getLCP,a=e.getTTFB;n(t),r(t),s(t),c(t),a(t)}))};a.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(m,{})}),document.getElementById("root")),k()}},[[34,1,2]]]);
//# sourceMappingURL=main.86250c9c.chunk.js.map